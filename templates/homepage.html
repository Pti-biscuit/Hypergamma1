<!DOCTYPE html>
<html>
<head>
    <title>Medical Information App</title>
    <!-- Link to the CSS file -->
    <link rel="stylesheet" type="text/css" href="../static/ui.css">
</head>
<body>
    <!-- Header with Logo -->
    <div class="app-header">
        <!-- Link to the logo image file -->
        <img src="../static/logo.png" alt="Logo" class="logo">
        <div class="profile-icon">
            <!-- Link to the profile icon image file -->
            <img src="../static/profile-icon.png" alt="Profile" class="profile">
        </div>
    </div>

    <div class="cognitive-banner">
        <div class="circle-widget">
            <svg viewBox="0 0 160 160">
                <defs>
                    <filter id="circle-shadow" x="-20%" y="-20%" width="140%" height="140%">
                        <feDropShadow dx="0" dy="10" stdDeviation="5" flood-color="rgba(0,0,0,0.3)"/>
                    </filter>
                </defs>
                <circle cx="80" cy="80" r="70" fill="none" stroke="#FFF" stroke-width="5" filter="url(#circle-shadow)"/>
            </svg>
            <div class="circle-content">82</div> <!-- Dynamic content will be adjusted via JS -->
        </div>
        <div class="data-label">Cognitive Score</div>
    </div>

    <!-- SVG Wave at the bottom of the cognitive banner -->
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 120" preserveAspectRatio="none" style="width: 100%; height: auto; transform: rotate(180deg);">
        <defs>
            <linearGradient id="waveGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                <stop offset="0%" style="stop-color:#C41889; stop-opacity:1" />
                <stop offset="100%" style="stop-color:#262262; stop-opacity:1" />
            </linearGradient>
        </defs>
        <path d="M0,60 C300,180 900,-60 1200,60 L1200 120 L0 120 Z" fill="url(#waveGradient)"/>
    </svg>
    <!-- Graph Containers -->

    <div class="graph-container">
        <div class="stress-fatigue-graph">
            <canvas id="stressFatigueChart" width="400" height="200"></canvas>
        </div>
        <div class="efficiency-graph">
            <!-- Insert Efficiency Graph here -->
        </div>
    </div>

    <div>
        <canvas id="myChart"></canvas>
      </div>    

    <!-- JavaScript to dynamically adjust the circle based on the score -->
    <script>
    document.addEventListener("DOMContentLoaded", function() {
        function updateCircle() {
            const score = parseInt(document.querySelector('.circle-content').textContent, 10);
            const circumference = 2 * Math.PI * 70; // Adjusted for the radius of 70 to match the SVG circle's radius
            const offset = circumference - (score / 100) * circumference;

            const svgCircle = document.querySelector('.circle-widget svg circle');
            if (svgCircle) {
                svgCircle.style.strokeDasharray = `${circumference}`;
                svgCircle.style.strokeDashoffset = offset;
            }
        }

        updateCircle(); // Call the function on page load
    });
    </script>


  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script> document.addEventListener('DOMContentLoaded', function() {
    var ctx = document.getElementById('stressFatigueChart').getContext('2d');
    var stressFatigueChart = new Chart(ctx, {
        type: 'bar',
        data: {
            labels: ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday'],
            datasets: [
                {
                    label: 'Stress Level',
                    data: [12, 19, 3, 5, 2, 3],
                    backgroundColor: 'rgba(255, 99, 132, 0.5)',
                    borderColor: 'rgba(255, 99, 132, 1)',
                    borderWidth: 1,
                    yAxisID: 'y-axis-stress'
                },
                {
                    label: 'Fatigue Level',
                    data: [2, 3, 4, 5, 3],
                    type: 'line',
                    fill: false,
                    borderColor: 'rgb(54, 162, 235)',
                    tension: 0.1,
                    yAxisID: 'y-axis-fatigue'
                }
            ]
        },
        options: {
            scales: {
                'y-axis-stress': {
                    beginAtZero: true,
                    position: 'left',
                    type: 'linear'
                },
                'y-axis-fatigue': {
                    beginAtZero: true,
                    position: 'right',
                    type: 'linear',
                    grid: {
                        drawOnChartArea: false // ensure that the grid lines of the second y-axis do not show
                    }
                }
            }
        }
    });
  });
  </script>
        
</body>
</html>

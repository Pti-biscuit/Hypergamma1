<!DOCTYPE html>
<html>
<head>
    <title>Data Page</title>
    <!-- Link to the CSS file -->
    <link rel="stylesheet" type="text/css" href="../static/ui.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
</head>
<body>
    <!-- Header with Logo -->
    <div class="app-header">
        <!-- Link to the logo image file -->
        <img src="../static/logo.png" alt="Logo" class="logo">
        <div class="profile-icon">
            <!-- Link to the profile icon image file -->
            <img src="../static/profile-icon.png" alt="Profile" class="profile">
        </div>
    </div>

    <!-- Week Gauges Section -->
    <div class="week-gauges">
            <!-- Gauge container for Monday -->
        <div class="gauge-container">
            <div class="day-letter">M</div> <!-- Day letter -->
            <div class="gauge">
                <div class="date-number">20</div> <!-- Date number inside the gauge -->
                <canvas id="gaugeMonday"></canvas>
            </div>
        </div>

        <div class="gauge-container">
            <div class="day-letter">T</div> <!-- Day letter -->
            <div class="gauge">
                <div class="date-number">21</div> <!-- Date number inside the gauge -->
                <canvas id="gaugeTuesday"></canvas>
            </div>
        </div>

        <div class="gauge-container">
            <div class="day-letter">W</div> <!-- Day letter -->
            <div class="gauge">
                <div class="date-number">22</div> <!-- Date number inside the gauge -->
                <canvas id="gaugeWednesday"></canvas>
            </div>
        </div>

        <div class="gauge-container">
            <div class="day-letter">T</div> <!-- Day letter -->
            <div class="gauge">
                <div class="date-number">23</div> <!-- Date number inside the gauge -->
                <canvas id="gaugeThursday"></canvas>
            </div>
        </div>

        <div class="gauge-container">
            <div class="day-letter">F</div> <!-- Day letter -->
            <div class="gauge">
                <div class="date-number">24</div> <!-- Date number inside the gauge -->
                <canvas id="gaugeFriday"></canvas>
            </div>
        </div>

        <div class="gauge-container">
            <div class="day-letter">S</div> <!-- Day letter -->
            <div class="gauge">
                <div class="date-number">25</div> <!-- Date number inside the gauge -->
                <canvas id="gaugeSaturday"></canvas>
            </div>
        </div>

        <div class="gauge-container">
            <div class="day-letter">S</div> <!-- Day letter -->
            <div class="gauge">
                <div class="date-number">26</div> <!-- Date number inside the gauge -->
                <canvas id="gaugeSunday"></canvas>
            </div>
        </div>
    
  </div>

   <!-- Cognitive Banner -->
    <div class="cognitive-banner">
        <div class="circle-widget">
            <svg viewBox="0 0 160 160">
                <defs>
                    <filter id="circle-shadow" x="-20%" y="-20%" width="140%" height="140%">
                        <feDropShadow dx="0" dy="10" stdDeviation="5" flood-color="rgba(0,0,0,0.3)"/>
                    </filter>
                </defs>
                <circle cx="80" cy="80" r="70" fill="none" stroke="#FFF" stroke-width="5" filter="url(#circle-shadow)"/>
            </svg>
            <div class="circle-content">82</div> <!-- Dynamic content will be adjusted via JS -->
        </div>
        <div class="data-label">Heart Rate</div>
    </div>

    <!-- SVG Wave at the bottom of the cognitive banner -->
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 120" preserveAspectRatio="none" style="width: 100%; height: auto; transform: rotate(180deg);">
        <defs>
            <linearGradient id="waveGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                <stop offset="0%" style="stop-color:#C41889; stop-opacity:1" />
                <stop offset="100%" style="stop-color:#262262; stop-opacity:1" />
            </linearGradient>
        </defs>
        <path d="M0,60 C300,180 900,-60 1200,60 L1200 120 L0 120 Z" fill="url(#waveGradient)"/>
    </svg>
    <!-- Graph Containers -->

    <div class="graph-container">
        <div class="stress-fatigue-graph">
            <h1>Average Daily Stress and Fatigue</h1>
            <canvas id="stressFatigueChart" width="500" height="300"></canvas>
        </div>
        <div class="efficiency-graph">
            <h1>Average Daily Efficiency</h1>
            <canvas id="efficiencyRadarChart" width="500" height="200"> </canvas>
        </div>
    </div>

    <div>
        <canvas id="myChart"></canvas>
      </div>    

    <!-- JavaScript to dynamically adjust the circle based on the score -->
    <script>
    document.addEventListener("DOMContentLoaded", function() {
        function updateCircle() {
            const score = parseInt(document.querySelector('.circle-content').textContent, 10);
            const circumference = 2 * Math.PI * 70; // Adjusted for the radius of 70 to match the SVG circle's radius
            const offset = circumference - (score / 100) * circumference;

            const svgCircle = document.querySelector('.circle-widget svg circle');
            if (svgCircle) {
                svgCircle.style.strokeDasharray = `${circumference}`;
                svgCircle.style.strokeDashoffset = offset;
            }
        }

        updateCircle(); // Call the function on page load
    });
    </script>

<!-- JavaScript to call the charts -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="../Charts/StressFatigueChart.js"></script>
  <script src="../Charts/efficiencyRadarChart.js"></script>
  <script src="../Charts/gaugesWeeks.js"></script>
        
</body>
</html>
